/* ─────────────────────────────────────────
	 Grid System
	 ───────────────────────────────────────── */

/*
	Grid xs (mobile):
	[outer] [middle] [outer]

	Grid md (tablet):
	[outer] [middle-left | gutter | middle-right] [outer]

	Grid xl (desktop):
	[outer] [left | gutter] [middle-left | gutter | middle-right] [right] [outer]
*/

.section {
  display: grid;
  /* xs: simple 3-column grid */
  grid-template-columns:
    [full-start] var(--spacing-md)
    [content-start] 1fr [content-end]
    var(--spacing-md) [full-end];
  /* Place container in content area */
  > .container {
    grid-column: content;
  }

  .flow {
    max-width: 100%;
    padding-block: var(--spacing-huge); /* 120 */

    p {
      max-width: 100%;
    }
  }

  /* md: wider outer padding */
  @media (min-width: 48rem) {
    grid-template-columns:
      [full-start] var(--spacing-xl)
      [content-start] 1fr [content-end]
      var(--spacing-xl) [full-end];
  }

  /* xl: 3-column grid - centered, left (nav), content (640px), right */
  @media (min-width: 75rem) {
    /* Center the 3-column grid: total width = 240 + 640 + 240 = 1120px */
    grid-template-columns:
      [full-start] minmax(0, 1fr)
      [left-start] var(--layout-fixed) [left-end content-start]
      var(--layout-content-full) [content-end right-start]
      var(--layout-fixed) [right-end]
      minmax(0, 1fr) [full-end];
    /*
			auto (centers grid) |
			240px fixed (nav) |
			640px fixed (content) |
			240px fixed (right) |
			auto (centers grid)
		*/

    > .container {
      grid-column: content-start / content-end;
    }

    .flow {
      padding-block: var(--spacing-max); /* 200 */
    }
  }
}

/* xl: Layout values for xl grid */
@media (min-width: 75rem) {
  :root {
    --layout-fixed: 15rem; /* 240px */
    --layout-content-half: 20rem; /* 320px */
  }
}

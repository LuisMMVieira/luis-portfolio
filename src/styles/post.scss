/* ─────────────────────────────────────────
   Post Template Styles (Mobile-First)
   Uses system grid from grid.scss — $grid-2 (xs), $grid-12 (md+)
   Padding-inline provides side margins (no margin columns in grid)
   ───────────────────────────────────────── */

/* Page: block layout, stacks sections */
.post-page {
	display: block;

	> :first-child {
		padding-block-start: var(--grid-margin-xs);
	}

	@media (min-width: 48rem) {
		> :first-child {
			padding-block-start: var(--grid-margin-md);
		}
	}
}

/* Post Header */
.post-header {
	display: grid;
	column-gap: 0;
	grid-template-columns: $grid-2;
	padding-inline: var(--grid-margin-xs);
	width: 100%;
	padding-block-start: var(--spacing-xxl);
	padding-block-end: var(--spacing-xl);

	.post-header__wrapper {
		grid-column: 1 / -1;
		display: flex;
		flex-direction: column;
		gap: var(--spacing-xl);
	}
}

/* Post Section: system grid */
.post-section {
	display: grid;
	column-gap: 0;
	grid-template-columns: $grid-2;
	padding-inline: var(--grid-margin-xs);
	width: 100%;
	row-gap: var(--spacing-xl);

	>* {
		grid-column: 1 / -1;
	}
}

.post-section--small {
	padding-block: var(--spacing-md);
}

.post-section--big {
	padding-block: var(--spacing-md);
}

/* Full: keeps lateral padding (grid padding-inline). Hero images stay inside grid. */
.post-section--full {
	padding-block: 0;
	/* padding-inline inherited from .post-section = --grid-margin-xs / --grid-margin-md */
}

/* Cover hero: background image with video on top */
.post-cover-hero {
	background-image: var(--cover-bg);
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	display: flex;
	align-items: center;
	justify-content: center;
	min-height: 20rem;
	padding: var(--spacing-xl);
	width: 100%;
	box-sizing: border-box;

	.post-figure--video {
		margin: 0;
	}
}

/* Cover image hero: static centered image on dark background */
.post-cover-image {
	width: 100%;

	img {
		width: 100%;
		height: auto;
		display: block;
	}

	@media (min-width: 48rem) {
		background-color: var(--color-dark);
		height: 520px;
		display: flex;
		align-items: center;
		justify-content: center;

		img {
			width: 620px;
			height: auto;
			object-fit: unset;
			object-position: unset;
		}
	}

	@media (min-width: 75rem) {
		aspect-ratio: 1336 / 751.5;
		height: auto;

		img {
			width: 66.62%;
		}
	}
}

/* Window canvas: browser-frame video/image on dark background */
.post-window-canvas {
	width: 100%;

	&__frame {
		aspect-ratio: 784 / 434;
		width: 100%;
		overflow: hidden;
		border-radius: var(--radius-sm);

		video, img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			display: block;
		}
	}

	&__caption {
		font-family: var(--type-text-s-font-family);
		font-size: var(--type-text-s-font-size);
		font-weight: var(--type-text-s-font-weight);
		line-height: var(--type-text-s-line-height);
		color: var(--text-secondary);
		padding-block: var(--spacing-sm);
		margin: 0;
	}

	@media (min-width: 48rem) {
		background-color: var(--color-darkest);
		padding-block: var(--spacing-xxl);
		display: flex;
		flex-direction: column;
		align-items: center;

		&__frame {
			width: 620px;
		}

		&__caption {
			width: 620px;
		}
	}

	@media (min-width: 75rem) {
		padding-block: var(--spacing-xxxl);

		&__frame {
			width: 890px;
		}

		&__caption {
			width: 890px;
		}
	}
}

.post-section--text {
	padding-block: var(--spacing-xl);
	align-items: center;
	text-align: left;
}

/* col2/col3 inner wrapper: stacked at xs, flex row at md+ */
.post-section__cols {
	grid-column: 1 / -1;
	display: flex;
	flex-direction: column;
	gap: var(--spacing-xl);

	> * {
		flex: 1 0 0;
		min-width: 0;
	}
}

/* ─────────────────────────────────────────
   Post Header (typography, etc.)
   ───────────────────────────────────────── */

.post-header__title-group {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-md);
}

.post-header__title {
	font-family: var(--type-title-m-font-family);
	font-size: var(--type-title-m-font-size);
	font-weight: var(--type-title-m-font-weight);
	line-height: var(--type-title-m-line-height);
	letter-spacing: var(--type-title-m-letter-spacing);
	color: var(--text-primary);
	margin: 0;
}

@media (min-width: 48rem) {
	.post-header__title {
		font-size: var(--type-title-l-font-size);
		line-height: var(--type-title-l-line-height);
		letter-spacing: var(--type-title-l-letter-spacing);
	}
}

@media (min-width: 75rem) {
	.post-header__title {
		font-size: var(--type-title-xl-font-size);
		line-height: var(--type-title-xl-line-height);
		letter-spacing: var(--type-title-xl-letter-spacing);
	}
}

.post-header__subtitle {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

.post-header__intro {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-sm);
}

.post-header__intro p {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

/* ─────────────────────────────────────────
   Post Figure
   ───────────────────────────────────────── */

.post-figure {
	display: flex;
	flex-direction: column;
	margin: 0;
	width: 100%;
}

.post-figure img,
.post-figure video {
	width: 100%;
	height: auto;
	display: block;
}

.post-figure--video {
	width: fit-content;
	max-width: 100%;
	margin-inline: auto;
}

.post-figure--video video {
	height: 600px;
	width: auto;
	object-fit: contain;
	display: block;
	border-radius: 44px;
	overflow: hidden;
	outline: 8px solid rgba(0, 0, 0, 0.1);
	outline-offset: 0;
}

.post-figure__caption {
	font-family: var(--type-text-s-font-family);
	font-size: var(--type-text-s-font-size);
	font-weight: var(--type-text-s-font-weight);
	line-height: var(--type-text-s-line-height);
	color: var(--text-secondary);
	padding-block: var(--spacing-sm);
	margin: 0;
}

.post-section--small .post-figure__caption,
.post-section--big .post-figure__caption {
	padding-inline: 0;
}

/* ─────────────────────────────────────────
   Post Text Block
   ───────────────────────────────────────── */

.post-text {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-sm);
	max-width: var(--width-text-max);
}

.post-text__title {
	font-family: var(--type-title-m-font-family);
	font-size: var(--type-title-m-font-size);
	font-weight: var(--type-title-m-font-weight);
	line-height: var(--type-title-m-line-height);
	letter-spacing: var(--type-title-m-letter-spacing);
	color: var(--text-primary);
	margin: 0;
}

.post-text p {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

/* ─────────────────────────────────────────
   Tablet (md) - 48rem / 768px
   ───────────────────────────────────────── */

@media (min-width: 48rem) {

	.post-header {
		grid-template-columns: $grid-12;
		padding-inline: var(--grid-margin-md);
		padding-block-start: var(--spacing-xxl);
		padding-block-end: var(--spacing-xl);

		.post-header__wrapper {
			grid-column: 3 / 11;
		}
	}

	.post-section {
		grid-template-columns: $grid-12;
		padding-inline: var(--grid-margin-md);
	}

	/* Default: all 12 columns */
	.post-section>* {
		grid-column: 1 / -1;
	}

	/* Full: edge-to-edge, no padding */
	.post-section--full > * {
		grid-column: 1 / -1;
	}

	/* Text: 1 col centered — 2-col inset each side (cols 3–10, 8 cols) */
	.post-section--text > * {
		grid-column: 3 / 11;
	}

	/* col2/col3: inner wrapper sits at cols 2–11, flex row with gap */
	.post-section__cols {
		grid-column: 2 / 12;
		flex-direction: row;
		align-items: flex-start;
	}

	/* Media variants at md */
	.post-section--media-full .post-figure {
		grid-column: 1 / -1;
	}

	.post-section--media-center-wide .post-figure,
	.post-section--media-center .post-figure {
		grid-column: 2 / 12;
	}

	.post-section--media-left-wide .post-figure {
		grid-column: 1 / 10;
	}

	.post-section--media-left .post-figure,
	.post-section--media-left-small .post-figure {
		grid-column: 1 / 5;
	}

	.post-section--media-right-wide .post-figure {
		grid-column: 5 / 13;
	}

	.post-section--media-right .post-figure {
		grid-column: 7 / 13;
	}

	.post-section--media-right-small .post-figure {
		grid-column: 9 / 13;
	}

	.post-section--small,
	.post-section--big {
		padding-block: var(--spacing-xl);
	}

	.post-section--text {
		padding-block: var(--spacing-xxl);
	}
}

/* ─────────────────────────────────────────
   Desktop (xl) - 75rem / 1200px
   ───────────────────────────────────────── */

@media (min-width: 75rem) {
	.post-header {
		padding-block-start: var(--spacing-huge);
		padding-block-end: var(--spacing-xl);
		max-width: var(--width-modal-max);
		margin-inline: auto;

		.post-header__wrapper {
			grid-column: 4 / 10;
		}
	}

	.post-section--big {
		padding-block: var(--spacing-xl);
	}

	.post-section--text {
		padding-block: var(--spacing-huge);

		> * {
			grid-column: 4 / 10;
		}
	}

	.post-section__cols {
		gap: var(--spacing-xxxl);
	}

	/* Media variants (Figma) — single figure per section */
	.post-section--media-full .post-figure {
		grid-column: 1 / 13;
	}

	.post-section--media-center-wide .post-figure,
	.post-section--media-center .post-figure {
		grid-column: 3 / 11;
		/* cols 3-10 */
	}

	.post-section--media-left-wide .post-figure {
		grid-column: 1 / 10;
		/* cols 1-9, flush left */
	}

	.post-section--media-left .post-figure,
	.post-section--media-left-small .post-figure {
		grid-column: 1 / 5;
		/* cols 1-4 */
	}

	.post-section--media-right-wide .post-figure {
		grid-column: 5 / 13;
		/* cols 5-12 */
}

	.post-section--media-right .post-figure {
		grid-column: 7 / 13;
		/* cols 7-12 */
	}

	.post-section--media-right-small .post-figure {
		grid-column: 9 / 13;
		/* cols 9-12 */
	}

	/* Full: spans all columns (stays within padding) */
	.post-section--full>* {
		grid-column: 1 / -1;
	}
}

/* ─────────────────────────────────────────
   Post Divider
   ───────────────────────────────────────── */

.post-divider {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-xs);
	padding-block: var(--spacing-xl);
	width: 100%;
}

.post-divider__line {
	width: 100%;
	height: var(--border-width-hairline);
	background-color: var(--border-default);
}

.post-divider__label {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	color: var(--text-primary);
	margin: 0;
}

/* Image Centered: light bg container, full-width xs, fixed width at md/xl */
.post-image-centered {
	overflow: hidden;
	width: 100%;
	display: flex;
	align-items: center;
	justify-content: center;
	padding-block: var(--spacing-md);

	img {
		width: 100%;
		height: auto;
		display: block;
	}

	@media (min-width: 48rem) {
		background-color: var(--color-medium-light);
		padding-block: var(--spacing-xl);

		img {
			width: 620px;
		}
	}

	@media (min-width: 75rem) {
		padding-block: var(--spacing-xxl);

		img {
			width: 889px;
		}
	}
}

/* Scroll Image: single wide image with horizontal overflow scroll */
.post-scroll-image {
	background-color: var(--color-darkest);
	overflow-x: auto;
	overflow-y: hidden;
	-webkit-overflow-scrolling: touch;
	scrollbar-width: none;
	padding-block: var(--spacing-xxl);
	padding-inline-start: 102px;
	width: 100%;

	&::-webkit-scrollbar {
		display: none;
	}

	img {
		height: 300px;
		width: auto;
		max-width: none;
		display: block;
	}

	@media (min-width: 48rem) {
		padding-block: var(--spacing-xxxl);
		padding-inline-start: 125px;

		img {
			height: 340px;
		}
	}

	@media (min-width: 75rem) {
		padding-block: var(--spacing-huge);
		padding-inline-start: 334px;

		img {
			height: 380px;
		}
	}
}

/* Canvas Carousel: dark bg container with stacked rotating images */
.post-canvas-carousel {
	width: 100%;

	&__canvas {
		display: flex;
		align-items: center;
		justify-content: center;
		overflow: hidden;
	}

	&__frame {
		position: relative;
		width: 100%;
		aspect-ratio: 890 / 688;
		border-radius: var(--radius-sm);
		overflow: hidden;

		img {
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
		}
	}

	@media (min-width: 48rem) {
		&__canvas {
			background-color: var(--color-dark);
			padding-block: var(--spacing-xxl);
		}

		&__frame {
			width: 620px;
		}
	}

	@media (min-width: 75rem) {
		&__frame {
			width: 890px;
		}
	}
}

/* Image Scroller */
.image-scroller {
	display: flex;
	gap: 1.25rem;
	overflow-x: auto;
	overflow-y: hidden;
	-webkit-overflow-scrolling: touch;
	padding-block: 1.5rem;
	padding-inline: calc(50% - 147px);
	margin-inline: calc(-1 * var(--grid-margin-xs));
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}

	img {
		width: 294px;
		height: auto;
		flex-shrink: 0;
		border-radius: var(--radius-xs);
	}
}

@media (min-width: 48rem) {
	.image-scroller {
		gap: 3.5rem;
		padding-block: 2rem;
		padding-inline: calc(50% - 280px);
		margin-inline: calc(-1 * var(--grid-margin-md));

		img {
			width: 560px;
		}
	}
}

@media (min-width: 75rem) {
	.image-scroller {
		gap: 8.75rem;
		padding-block: 2.5rem;
		padding-inline: calc(50% - 408px);

		img {
			width: 816px;
		}
	}
}
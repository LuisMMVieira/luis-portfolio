/* ─────────────────────────────────────────
   Post Template Styles (Mobile-First)
   Uses system grid from grid.scss — $grid-2 (xs), $grid-12 (md+)
   Padding-inline provides side margins (no margin columns in grid)
   ───────────────────────────────────────── */

/* Page: block layout, stacks sections */
.post-page {
	display: block;

	@media (min-width: 48rem) {
		> :first-child {
			padding-block-start: var(--grid-margin-md);
		}
	}
}

/* Post Header */
.post-header {
	display: grid;
	column-gap: 0;
	grid-template-columns: $grid-2;
	padding-inline: var(--grid-margin-xs);
	width: 100%;
	padding-block: var(--spacing-xl);

	.post-header__wrapper {
		grid-column: 1 / -1;
		display: flex;
		flex-direction: column;
		gap: var(--spacing-md);
	}
}

/* Post Section: system grid */
.post-section {
	display: grid;
	column-gap: 0;
	grid-template-columns: $grid-2;
	padding-inline: var(--grid-margin-xs);
	width: 100%;
	row-gap: var(--spacing-xl);

	>* {
		grid-column: 1 / -1;
	}
}

.post-section--small {
	padding-block: var(--spacing-md);
}

.post-section--big {
	padding-block: var(--spacing-md);
}

/* Full: keeps lateral padding (grid padding-inline). Hero images stay inside grid. */
.post-section--full {
	padding-block: 0;
	/* padding-inline inherited from .post-section = --grid-margin-xs / --grid-margin-md */
}

.post-section--text {
	padding-block: var(--spacing-xl);
	align-items: center;
	text-align: left;

	.post-text {
		max-width: 30rem;
		width: 100%;
	}
}

/* xs: col2 = 2 cols side by side (2-col grid) */
.post-section--col2>*:nth-child(1) {
	grid-column: 1 / 2;
}

.post-section--col2>*:nth-child(2) {
	grid-column: 2 / 3;
}

.post-section--col2>*:only-child {
	grid-column: 1 / -1;
}

/* col2/col3: at md+ use 12-col grid */

/* ─────────────────────────────────────────
   Post Header (typography, etc.)
   ───────────────────────────────────────── */

.post-header__title-group {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-xs);
}

.post-header__title {
	font-family: var(--type-title-l-font-family);
	font-size: var(--type-title-l-font-size);
	font-weight: var(--type-title-l-font-weight);
	line-height: var(--type-title-l-line-height);
	letter-spacing: var(--type-title-l-letter-spacing);
	color: var(--text-primary);
	margin: 0;
}

@media (min-width: 75rem) {
	.post-header__title {
		font-size: var(--type-title-xl-font-size);
		line-height: var(--type-title-xl-line-height);
		letter-spacing: var(--type-title-xl-letter-spacing);
	}
}

.post-header__subtitle {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

.post-header__intro {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-sm);
}

.post-header__intro p {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

/* ─────────────────────────────────────────
   Post Figure
   ───────────────────────────────────────── */

.post-figure {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-xs);
	margin: 0;
	width: 100%;
}

.post-figure img,
.post-figure video {
	width: 100%;
	height: auto;
	display: block;
}

.post-figure__caption {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

.post-section--small .post-figure__caption,
.post-section--big .post-figure__caption {
	padding-inline: 0;
}

/* ─────────────────────────────────────────
   Post Text Block
   ───────────────────────────────────────── */

.post-text {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-sm);
	max-width: var(--width-text-max);
}

.post-text__title {
	font-family: var(--type-title-m-font-family);
	font-size: var(--type-title-m-font-size);
	font-weight: var(--type-title-m-font-weight);
	line-height: var(--type-title-m-line-height);
	letter-spacing: var(--type-title-m-letter-spacing);
	color: var(--text-primary);
	margin: 0;
}

.post-text p {
	font-family: var(--type-text-m-font-family);
	font-size: var(--type-text-m-font-size);
	font-weight: var(--type-text-m-font-weight);
	line-height: var(--type-text-m-line-height);
	letter-spacing: var(--type-text-m-letter-spacing);
	color: var(--text-secondary);
	margin: 0;
}

/* ─────────────────────────────────────────
   Tablet (md) - 48rem / 768px
   ───────────────────────────────────────── */

@media (min-width: 48rem) {

	.post-header {
		grid-template-columns: $grid-12;
		padding-inline: var(--grid-margin-md);
		padding-block: var(--spacing-xxl);

		.post-header__wrapper {
			grid-column: 2 / 12;
			display: grid;
			grid-template-columns: 1fr 1fr;
			column-gap: var(--spacing-xxxl);
			/* 80px */
			align-items: flex-start;
		}

		.post-header__title-group {
			grid-column: 1;
		}

		.post-header__intro {
			grid-column: 2;
		}
	}

	.post-section {
		grid-template-columns: $grid-12;
		padding-inline: var(--grid-margin-md);
	}

	/* Default: all 12 columns */
	.post-section>* {
		grid-column: 1 / -1;
	}

	/* Full: edge-to-edge, no padding */
	.post-section--full > * {
		grid-column: 1 / -1;
	}

	/* Text: cols 2-11 */
	.post-section--text .post-text {
		grid-column: 2 / 12;
		max-width: calc((100% - var(--spacing-xxxl)) / 2);
	}

	/* col2: left cols 2-5, right cols 8-11 */
	.post-section--col2>.post-text:nth-child(1),
	.post-section--col2>.post-figure:nth-child(1) {
		grid-column: 2 / 6;
	}

	.post-section--col2>.post-text:nth-child(2),
	.post-section--col2>.post-figure:nth-child(2) {
		grid-column: 8 / 12;
	}

	.post-section--col2>*:only-child {
		grid-column: 2 / 12;
	}

	/* col3: cols 2-3, 6-7, 10-11 */
	.post-section--col3>*:nth-child(1) {
		grid-column: 2 / 4;
	}

	.post-section--col3>*:nth-child(2) {
		grid-column: 6 / 8;
	}

	.post-section--col3>*:nth-child(3) {
		grid-column: 10 / 12;
	}

	.post-section--col3>*:only-child {
		grid-column: 2 / 12;
	}

	/* Center-wide at md: 1 col inset each side (Figma) */
	.post-section--media-center-wide .post-figure,
	.post-section--media-center .post-figure {
		grid-column: 2 / 12;
	}

	.post-section--small,
	.post-section--big {
		padding-block: var(--spacing-xl);
	}

	.post-section--text {
		padding-block: var(--spacing-xxl);
	}
}

/* ─────────────────────────────────────────
   Desktop (xl) - 75rem / 1200px
   ───────────────────────────────────────── */

@media (min-width: 75rem) {
	.post-header {
		padding-block: var(--spacing-huge);
		max-width: var(--width-modal-max);
		margin-inline: auto;
	}

	.post-section--big {
		padding-block: var(--spacing-xxl);
	}

	.post-section--text {
		padding-block: var(--spacing-huge);

		.post-text {
			max-width: calc((100% - var(--spacing-xxxl)) / 2);
		}
	}

	.post-section--col2 {
		row-gap: var(--spacing-xxl);
	}

	/* Media variants (Figma) — single figure per section */
	.post-section--media-full .post-figure {
		grid-column: 1 / 13;
	}

	.post-section--media-center-wide .post-figure,
	.post-section--media-center .post-figure {
		grid-column: 3 / 11;
		/* cols 3-10 */
	}

	.post-section--media-left-wide .post-figure {
		grid-column: 1 / 10;
		/* cols 1-9, flush left */
	}

	.post-section--media-left .post-figure,
	.post-section--media-left-small .post-figure {
		grid-column: 1 / 5;
		/* cols 1-4 */
	}

	.post-section--media-right-wide .post-figure {
		grid-column: 5 / 13;
		/* cols 5-12 */
}

	.post-section--media-right .post-figure {
		grid-column: 7 / 13;
		/* cols 7-12 */
	}

	.post-section--media-right-small .post-figure {
		grid-column: 9 / 13;
		/* cols 9-12 */
	}

	/* Full: spans all columns (stays within padding) */
	.post-section--full>* {
		grid-column: 1 / -1;
	}
}

/* Image Scroller */
.image-scroller-toggle {
	display: inline-block;
	margin-top: var(--spacing-sm);
	background: var(--bg-elevated);
	color: var(--text-primary);
	border: 1px solid var(--border-default);
	border-radius: var(--radius-sm);
	padding: 0.25rem 0.75rem;
	font-size: var(--type-text-s-font-size, 0.75rem);
	cursor: pointer;
	transition: opacity 0.15s;
	justify-self: center;

	&:hover {
		opacity: 0.8;
	}
}

.image-scroller {
	display: flex;
	gap: 1.25rem;
	overflow-x: auto;
	overflow-y: hidden;
	-webkit-overflow-scrolling: touch;
	padding-block: 1.5rem;
	padding-inline: calc(50% - 147px);
	margin-inline: calc(-1 * var(--grid-margin-xs));
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}

	img {
		width: 294px;
		height: auto;
		flex-shrink: 0;
		border-radius: var(--radius-xs);
	}
}

@media (min-width: 48rem) {
	.image-scroller {
		gap: 3.5rem;
		padding-block: 2rem;
		padding-inline: calc(50% - 280px);
		margin-inline: calc(-1 * var(--grid-margin-md));

		img {
			width: 560px;
		}
	}
}

@media (min-width: 75rem) {
	.image-scroller {
		gap: 8.75rem;
		padding-block: 2.5rem;
		padding-inline: calc(50% - 408px);

		img {
			width: 816px;
		}
	}
}
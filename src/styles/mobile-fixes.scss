/* ─────────────────────────────────────────
   MOBILE & TABLET FIXES
   Comprehensive fixes for breakpoints below desktop
   ───────────────────────────────────────── */

/* ═══════════════════════════════════════════
   MOBILE FIRST (xs) - Base/Default styles
   ═══════════════════════════════════════════ */

/* Ensure proper mobile viewport */
html {
  -webkit-text-size-adjust: 100%;
  overflow-x: hidden;
}

body {
  overflow-x: hidden;
  width: 100%;
}

/* Fix header on mobile */
.site-header {
  padding-inline: var(--spacing-sm);
}

.site-nav {
  padding-block-start: var(--spacing-sm);
  padding-block-end: var(--spacing-xs);
}

.nav-list {
  gap: var(--spacing-sm);
  flex-wrap: wrap;
}

/* Intro section mobile */
.section#intro {
  min-height: 100svh;
  padding-inline: var(--spacing-sm);
  
  h1 {
    gap: var(--spacing-sm);
    max-width: none;
  }
  
  .intro-greeting {
    position: relative;
    top: 0;
    margin-bottom: var(--spacing-xs);
  }
  
  .intro-headline {
    font-size: clamp(2rem, 8vw, 3.5rem);
    max-width: 100%;
  }
}

/* Section base mobile */
.section {
  padding-inline: var(--spacing-sm);
  padding-block: var(--spacing-lg);
}

/* Content sections mobile */
.section .flow {
  max-width: 100%;
  
  p {
    max-width: 100%;
  }
}

/* ═══════════════════════════════════════════
   PROJECT MODAL - MOBILE FIXES
   ═══════════════════════════════════════════ */

.project-modal {
  padding-block-start: 0;
}

/* Mobile & Tablet only - full width modal */
@media (max-width: 74.99rem) {
  .project-modal-container {
    width: 100%;
    max-width: 100%;
    height: 100%;
  }
}

.project-modal-close {
  position: fixed;
  top: var(--spacing-xs);
  right: var(--spacing-xs);
  padding: var(--spacing-xs);
  background: var(--bg-default);
  border-radius: var(--radius-infinite);
  z-index: 1001;
}

/* Project content mobile */
.project-modal-content {
  padding: 0;
  overflow-x: hidden;
  width: 100%;
  
  img {
    max-width: 100%;
    height: auto;
    display: block;
  }
}

/* Project header mobile */
.project-modal-content {
  .project-header {
    flex-direction: column;
    gap: var(--spacing-md);
    padding-block-start: var(--spacing-lg);
  }
  
  .project-title {
    font-size: clamp(1.75rem, 6vw, 2.5rem);
    max-width: 100%;
    word-wrap: break-word;
  }
  
  .project-subtitle {
    font-size: clamp(1rem, 4vw, 1.25rem);
    max-width: 100%;
  }
  
  .project-header-meta {
    width: 100%;
    max-width: 100%;
    gap: var(--spacing-sm);
    padding-block: var(--spacing-sm);
  }
}

/* Project sections mobile */
.project-section-default {
  flex-direction: column;
  min-height: auto;
  gap: 0;
  
  .project-section-text {
    order: 2;
    width: 100%;
    padding: var(--spacing-md);
    
    h2 {
      font-size: clamp(1.5rem, 5vw, 2rem);
      max-width: 100%;
      word-wrap: break-word;
      margin-bottom: var(--spacing-sm);
    }
    
    p {
      font-size: clamp(0.9rem, 3.5vw, 1rem);
      max-width: 100%;
      word-wrap: break-word;
    }
  }
  
  .project-section-image {
    order: 1;
    width: 100%;
    min-height: 0;
    flex: none;
    gap: var(--spacing-md);
    padding: var(--spacing-md);
    padding-top: 0;
  }
  
  /* Force header image to top on mobile */
  &:first-child .project-section-image {
    padding-top: var(--spacing-md);
  }
}

/* Project centered section mobile */
.project-modal-content {
  .project-section-centered {
    padding-inline: var(--spacing-md);
    padding-block: var(--spacing-lg);
    min-height: auto;
  }
  
  .project-centered-content {
    grid-template-columns: 1fr;
    gap: var(--spacing-md);
    
    .project-intro {
      grid-column: 1;
      
      p {
        font-size: clamp(0.9rem, 3.5vw, 1rem);
        max-width: 100%;
      }
    }
  }
}

/* Project figures mobile */
.project-figure {
  width: 100%;
  gap: var(--spacing-xs);
  
  img, video {
    width: 100%;
    height: auto;
    max-width: 100%;
  }
  
  .project-figure-caption {
    font-size: 0.75rem;
    padding-inline: var(--spacing-xxs);
  }
}

/* Project cards mobile */
.project-card {
  gap: var(--spacing-sm);
  
  .project-card-image {
    width: 100%;
    height: auto;
    aspect-ratio: 16 / 9;
    
    img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  }
  
  .project-card-title {
    font-size: clamp(1.25rem, 5vw, 1.75rem);
  }
  
  .project-card-description {
    font-size: clamp(0.9rem, 3.5vw, 1rem);
  }
}

/* Tablet only (md) - 48rem to 74.99rem */
@media (min-width: 48rem) and (max-width: 74.99rem) {
  .site-header {
    padding-inline: var(--spacing-md);
  }
  
  .section {
    padding-inline: var(--spacing-md);
    padding-block: var(--spacing-xl);
  }
  
  .section#intro {
    padding-inline: var(--spacing-md);
    
    h1 {
      gap: var(--spacing-md);
    }
    
    .intro-greeting {
      position: absolute;
      top: calc(-1 * (var(--font-size-6) * var(--line-height-2) + var(--spacing-md)));
    }
  }
  
  /* Project sections tablet - still stacked */
  .project-section-default {
    flex-direction: column;
    
    .project-section-text {
      order: 2;
      width: 100%;
      padding: var(--spacing-lg);
    }
    
    .project-section-image {
      order: 1;
      width: 100%;
      padding: var(--spacing-lg);
      padding-bottom: 0;
    }
  }
  
  /* Header stays stacked on tablet */
  .project-modal-content {
    .project-header-wrapper {
      .project-section-default {
        flex-direction: column;
        
        .project-section-text {
          order: 2;
          width: 100%;
        }
        
        .project-section-image {
          order: 1;
          width: 100%;
        }
      }
    }
    
    .project-header {
      flex-direction: column;
      gap: var(--spacing-lg);
    }
    
    .project-header-meta {
      width: 100%;
    }
    
    .project-section-centered {
      padding-inline: var(--spacing-lg);
    }
    
    .project-centered-content {
      grid-template-columns: 1fr;
      
      .project-intro {
        grid-column: 1;
      }
    }
  }
}

/* ═══════════════════════════════════════════
   UTILITY FIXES
   ═══════════════════════════════════════════ */

/* Prevent horizontal scroll */
* {
  max-width: 100%;
}

img, video, figure {
  max-width: 100%;
  height: auto;
}

/* Better text wrapping */
h1, h2, h3, h4, h5, h6 {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}
